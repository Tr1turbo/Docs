import{_ as e}from"./chunks/triturbo_logo.DIm50g96.js";import{_ as t,a as i}from"./chunks/avatar_hierarchy.BxcHdXYA.js";import{_ as l,a as r}from"./chunks/ft_window_avatar.DuzsAr4_.js";import{_ as o}from"./chunks/blendshare.f-uX6AqU.js";import{_ as s}from"./chunks/apply_blendshapes_as_new_fbx.CrHY_UEI.js";import{_ as c}from"./chunks/fbx_target.CeLl5Si3.js";import{_ as d,a as p}from"./chunks/qpc.Dq61PmMW.js";import{_ as n,c as h,a1 as u,o as m}from"./chunks/framework.BDxlaA_J.js";const S=JSON.parse('{"title":"面捕套件安裝指南","description":"","frontmatter":{},"headers":[],"relativePath":"zh/face-tracking-addon/index.md","filePath":"zh/face-tracking-addon/index.md"}'),b={name:"zh/face-tracking-addon/index.md"};function g(q,a,f,x,k,B){return m(),h("div",null,a[0]||(a[0]=[u('<h1 id="面捕套件安裝指南" tabindex="-1"><img src="'+e+'" alt="Triturbo" style="width:32px;height:32px;vertical-align:-4px;display:inline;"> 面捕套件安裝指南 <a class="header-anchor" href="#面捕套件安裝指南" aria-label="Permalink to &quot;&lt;img src=&quot;/triturbo_logo.png&quot; alt=&quot;Triturbo&quot; style=&quot;width: 32px; height: 32px; vertical-align: -4px; display: inline;&quot;/&gt; 面捕套件安裝指南&quot;">​</a></h1><h2 id="導入依賴資產和包" tabindex="-1">導入依賴資產和包 <a class="header-anchor" href="#導入依賴資產和包" aria-label="Permalink to &quot;導入依賴資產和包&quot;">​</a></h2><ul><li><a href="https://modular-avatar.nadena.dev/" target="_blank" rel="noreferrer">Modular Avatar</a> (≥1.19)</li><li>Avatar 本體</li><li><strong>BlendShare</strong>：一個我開發的型態鍵提取和分發工具。<br><em>已包含在文件中</em><img src="'+t+'" alt="blendshare"></li></ul><h2 id="導入面部追蹤套件" tabindex="-1">導入面部追蹤套件 <a class="header-anchor" href="#導入面部追蹤套件" aria-label="Permalink to &quot;導入面部追蹤套件&quot;">​</a></h2><ul><li>從 <a href="https://triturbo.booth.pm/" target="_blank" rel="noreferrer">Booth 商店</a> 中下載內容。</li><li>將 <code>.unitypackage</code> 導入到你的項目中。</li></ul><p>導入後將出現一個新菜單。 點擊菜單中的按鈕以打開窗口。 <img src="'+l+'" alt="ft_window"></p><p>將你的 Avatar 遊戲物體或預製件拖入 <code>Avatar</code> 框中。 <img src="'+r+'" alt="ft_window"></p><p>最後，點擊 <code>在原 Avatar 應用面部捕捉插件</code>。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>💡 如果你不想修改原 Avatar 遊戲物體，可以點擊 <code>以新 Avatar 應用面部捕捉插件</code>。</p></div><p>一個帶有面部追蹤套件的 Avatar 將出現在 Hierarchy 中。 <img src="'+i+'" alt="avatar_hierarchy"></p><h2 id="如何取得fbx檔案" tabindex="-1">如何取得FBX檔案？ <a class="header-anchor" href="#如何取得fbx檔案" aria-label="Permalink to &quot;如何取得FBX檔案？&quot;">​</a></h2><p>如果您需要取得FBX檔案進行進一步修改，請參考以下文章。</p><p><a href="./blendshare.html">我需要一個帶有型態鍵的FBX文件，在哪裡可以獲得？</a></p><h2 id="預設選項" tabindex="-1">預設選項 <a class="header-anchor" href="#預設選項" aria-label="Permalink to &quot;預設選項&quot;">​</a></h2><p>在安裝時，你會看到有多個預設選項可選，其中包含：</p><ul><li>HD</li><li>HD (VIVE)</li><li>HD (Quest, Pico)</li><li>SD</li></ul><p>預設選項會因版本不同而有更多或更少的種類，其中的的設定也各自不同，但是都會遵守命名規則。<br> HD 與 SD 代表者<strong>解析度</strong>的不同，HD有著更高的解析度但是需要更多的同步參數。（括號）內表示針對該設備進一步優化參數的使用量，若不標注設備，則為通用版本，使用更多參數保證所有設備有著最佳效果。</p><blockquote><p>若您有多種設備，請選擇通用版本。</p></blockquote><details class="details custom-block"><summary>⚙ 參數的解析度</summary><p>由於面捕需要大量參數，並且透過Expression Parameters 進行網路同步，而VRChat對此上限為 256 比特。</p><ul><li><code>Bool</code> 參數需要 <code>1</code> 比特。</li><li><code>Int</code> 和 <code>Float</code> 需要 <code>8</code> 比特。</li></ul><p>我們透過量化參數的技巧降低浮點數所需的比特數。</p></details><h3 id="vive-與-quest-pico-版本的差異" tabindex="-1">VIVE 與 Quest, Pico 版本的差異 <a class="header-anchor" href="#vive-與-quest-pico-版本的差異" aria-label="Permalink to &quot;VIVE 與 Quest, Pico 版本的差異&quot;">​</a></h3><p>VIVE 使用 SRanipal 參數相較Quest 與 Pico設備在眼睛方面少了眉毛偵測、多了瞳孔直徑。 而在嘴部少了 MouthDimple, MouthStretch, NoseSneer。</p><div class="info custom-block"><p class="custom-block-title">💡 上述說明僅代表 VIVE Pro Eye設備</p><ul><li>VIVE Focus 3 + 表情偵測套件</li><li>VIVE Focus Vision</li><li>VIVE XR Elite + 全臉偵測套件</li></ul><p>等上述設備不支持瞳孔直徑偵測，另外也不支持EyeWide（睜大眼睛）, EyeSquint（擠壓眼皮）。<br> 而在嘴部捕捉部分各個VIVE設備基本表現一致。</p></div><h1 id="進階-如何使用" tabindex="-1">進階: 如何使用 <img src="'+o+'" alt="BlendShare" style="width:192px;height:48px;vertical-align:-9px;display:inline;"> <a class="header-anchor" href="#進階-如何使用" aria-label="Permalink to &quot;進階: 如何使用 &lt;img src=&quot;/blendshare.png&quot; alt=&quot;BlendShare&quot; style=&quot;width: 192px; height: 48px; vertical-align: -9px; display: inline;&quot;/&gt;&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p><strong>BlendShare</strong> 是一個為需要分享型態鍵但不想分發原始 FBX 文件的創作者設計的 Unity 插件。該工具能夠從 FBX 文件中提取型態鍵並將它們存儲在一個自定義的資產格式中: BlendShape Data。 這些資產可以輕鬆地共享並應用到兼容的 FBX 文件中。</p></div><h3 id="❓-我可以將面部追蹤型態鍵添加到修改過的-fbx-中嗎" tabindex="-1">❓ 我可以將面部追蹤型態鍵添加到修改過的 FBX 中嗎？ <a class="header-anchor" href="#❓-我可以將面部追蹤型態鍵添加到修改過的-fbx-中嗎" aria-label="Permalink to &quot;❓ 我可以將面部追蹤型態鍵添加到修改過的 FBX 中嗎？&quot;">​</a></h3><p><strong>可以！</strong> 只要你沒有刪除任何頂點，它就可以被視為與原始 FBX 相同的網格。(由於面部追蹤僅向 FBX 的「Body」(面部網格)添加型態鍵，你可以隨意編輯其他網格。)</p><p>你可以添加自己的型態鍵，修改 FBX 的 UV，並且 <strong>BlendShare</strong> 仍然可以將混合形狀添加到你的修改過的 FBX 中。</p><h3 id="❓-我需要一個帶有面部追蹤-blendshapes-的-fbx-在哪裡可以得到它" tabindex="-1">❓ 我需要一個帶有面部追蹤 Blendshapes 的 FBX，在哪裡可以得到它？ <a class="header-anchor" href="#❓-我需要一個帶有面部追蹤-blendshapes-的-fbx-在哪裡可以得到它" aria-label="Permalink to &quot;❓ 我需要一個帶有面部追蹤 Blendshapes 的 FBX，在哪裡可以得到它？&quot;">​</a></h3><p>插件只會生成網格資產，因為這是添加混合形狀最快的方法。 你需要按照以下步驟生成一個 FBX 文件。</p><p>找到 <code>Triturbo/xxx_FT/Blendshapes/xxx_FT_BlendShare</code> 路徑下的 <strong>BlendShare</strong> 資料資產文件。</p><p>點擊該資產並在檢查器中查看。</p><p>點擊 <code>Apply blendshapes as new FBX</code>，然後你將得到一個添加了混合形狀的 FBX 文件。 <img src="'+s+'" alt="Apply Face Tracking as New Avatar"></p><h1 id="面捕文檔" tabindex="-1"><img src="'+e+'" alt="Triturbo" style="width:32px;height:32px;vertical-align:-4px;display:inline;"> 面捕文檔 <a class="header-anchor" href="#面捕文檔" aria-label="Permalink to &quot;&lt;img src=&quot;/triturbo_logo.png&quot; alt=&quot;Triturbo&quot; style=&quot;width: 32px; height: 32px; vertical-align: -4px; display: inline;&quot;/&gt; 面捕文檔&quot;">​</a></h1><p>感謝您購買 Triturbo 的面部捕捉套件，本篇文章將向您解釋其中的使用與修改方法。</p><p>在閱讀本篇文章前，請先閱讀 <a href="./installation-guide.html">Face Tracking Addon Guide</a> 以帶領您安裝本套件。</p><h2 id="安裝與預設選項" tabindex="-1">安裝與預設選項 <a class="header-anchor" href="#安裝與預設選項" aria-label="Permalink to &quot;安裝與預設選項&quot;">​</a></h2><p>在安裝時，你會看到有多個預設選項可選，其中包含：</p><ul><li>HD</li><li>HD (VIVE)</li><li>HD (Quest, Pico)</li><li>SD</li></ul><p>預設選項會因版本不同而有更多或更少的種類，其中的的設定也各自不同，但是都會遵守命名規則。<br> HD 與 SD 代表者<strong>解析度</strong>的不同，HD有著更高的解析度但是需要更多的同步參數。（括號）內表示針對該設備進一步優化參數的使用量，若不標注設備，則為通用版本，使用更多參數保證所有設備有著最佳效果。</p><blockquote><p>若您有多種設備，請選擇通用版本。</p></blockquote><details class="details custom-block"><summary>⚙ 參數的解析度</summary><p>由於面捕需要大量參數，並且透過Expression Parameters 進行網路同步，而VRChat對此上限為 256 比特。</p><ul><li><code>Bool</code> 參數需要 <code>1</code> 比特。</li><li><code>Int</code> 和 <code>Float</code> 需要 <code>8</code> 比特。</li></ul><p>我們透過量化參數的技巧降低浮點數所需的比特數。</p></details><h3 id="vive-與-quest-pico-版本的差異-1" tabindex="-1">VIVE 與 Quest, Pico 版本的差異 <a class="header-anchor" href="#vive-與-quest-pico-版本的差異-1" aria-label="Permalink to &quot;VIVE 與 Quest, Pico 版本的差異&quot;">​</a></h3><p>VIVE 使用 SRanipal 參數相較Quest 與 Pico設備在眼睛方面少了眉毛偵測、多了瞳孔直徑。</p><p>而在嘴部少了MouthDimple, MouthStretch, NoseSneer。</p><div class="info custom-block"><p class="custom-block-title">💡 上述說明僅代表 VIVE Pro Eye設備</p><ul><li>VIVE Focus 3 + 表情偵測套件</li><li>VIVE Focus Vision</li><li>VIVE XR Elite + 全臉偵測套件</li></ul><p>等上述設備不支持瞳孔直徑偵測，另外也不支持EyeWide（睜大眼睛）, EyeSquint（擠壓眼皮）。<br> 而在嘴部捕捉部分各個VIVE設備基本表現一致。</p></div><h2 id="網格的生成" tabindex="-1">網格的生成 <a class="header-anchor" href="#網格的生成" aria-label="Permalink to &quot;網格的生成&quot;">​</a></h2><p>添加面捕用型態鍵的網格並不包含於本插件內，而是通過 <a href="./blendshare.html"><img src="'+o+'" alt="BlendShare" style="width:96px;height:24px;vertical-align:-5px;display:inline;"></a> 在您安裝面捕時生成。 當您第一次為Avatar安裝面捕，工具會為您生成帶有面捕用型態鍵的網格。</p><p>該網格默認透過 <code>guid</code> 查找，並由原 FBX 生成，並非是當前安裝對象正在使用的網格。 若需要以新 FBX 為目標添加型態鍵，請選擇 <code>Avatar正在使用中的 FBX</code>。 <img src="'+c+'" alt="FBX Target: FBX currently in used by the avatar"></p><p>網格的生成僅在第一次安裝時發生，若您需要重新生成網格，請刪除本工具所生成的網格然後重新安裝面捕。</p><h3 id="網格生成失敗" tabindex="-1">網格生成失敗 <a class="header-anchor" href="#網格生成失敗" aria-label="Permalink to &quot;網格生成失敗&quot;">​</a></h3><p>若您在安裝面捕後看不見Avatar的臉，請檢查您是否使用了修改過的，並且作為新資產導入的FBX作為Avatar的網格，該FBX的骨骼數量可能與原模型不一致。</p><p>請在<strong>目標FBX</strong>中選擇 <code>Avatar正在使用中的 FBX</code>。該選項只在尚未生成網格時出現，若您已生成網格，請重新生成網格。</p><p>若您在安裝面捕後發現型態鍵破碎，請使用未修改過的FBX生成網格。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><strong>要避免修改過的FBX在添加型態鍵失敗，請注意以下要點：</strong></p><ul><li>在修改過程中不得<strong>刪除</strong>相關網格的頂點，且不建議添加頂點。這會導致頂點順序不一致。</li><li>如果發現型態鍵方向錯誤，請使用 Blender 原生導出器。</li><li>注意FBX導出時的 Scalings 設定，和 <code>Apply Transform</code> 選項。您需要與原模型保持一致。 <ul><li>當您在 Unity 的 FBX Import Settings 中看到 <code>1m(File) to 1m (Unity)</code> 時，請在 Blender 選擇 <code>FBX Unit Scale</code>。</li><li>請不要勾選 <code>Apply Transform</code>，如果發現型態鍵方向錯誤，請再嘗試勾選 <code>Apply Transform</code>。</li></ul></li></ul><p><strong>可以放心更改的部分：</strong></p><ul><li>添加骨骼和編輯權重</li><li>添加或編輯型態鍵</li><li>編輯 UV</li><li>編輯法線</li><li>可以任意編輯與面捕無關的網格</li></ul></div><h2 id="調整眼睛形狀修復" tabindex="-1">調整眼睛形狀修復 <a class="header-anchor" href="#調整眼睛形狀修復" aria-label="Permalink to &quot;調整眼睛形狀修復&quot;">​</a></h2><p>本面捕會在眼睛閉合時將部分型態鍵混合至 0 以避免穿模，該過程相當自然連續。在正常睜眼時，臉型為用戶所自定義的型態鍵，閉眼時會「重設」至 0。</p><p>重設的強度是可以自定義的， <strong>強度 1</strong> 代表當眼睛閉上時完全重設至 0，而<strong>強度 0</strong> 表示不重設。</p><h3 id="如何調整型態鍵以自訂義面部形狀" tabindex="-1">如何調整型態鍵以自訂義面部形狀 <a class="header-anchor" href="#如何調整型態鍵以自訂義面部形狀" aria-label="Permalink to &quot;如何調整型態鍵以自訂義面部形狀&quot;">​</a></h3><p>為您的Avatar自訂臉型可能有多種方式。為了使面捕系統可以正常運行，請參考以下方法。</p><p>請在 <code>SkinedMeshRenderer</code> 中直接調整Blendshapes滑條的值，並以該狀態上傳至VRChat。</p><blockquote><p>請不要<strong>僅</strong>使用動畫控制自定義臉型，務必在 <code>SkinedMeshRenderer</code> 中也做出相應的調整。</p></blockquote><h3 id="有關左右型態鍵" tabindex="-1">有關左右型態鍵 <a class="header-anchor" href="#有關左右型態鍵" aria-label="Permalink to &quot;有關左右型態鍵&quot;">​</a></h3><p>大部分調整臉型用的型態鍵會提供左右分離版本。由於您的左右眼可以獨立開合，因此要混合臉型型態鍵時也需要兩眼分離控制，因此需要使用左右分離的型態鍵調整臉型（尤其是眼睛相關的形狀），然而本系統會自動地將對應的型態鍵改為左右分離的版本，因此您可以按照往常一般調整。</p><blockquote><p>自由調整即可，系統會自動替換成左右分離型態鍵。若遇到問題，請在調整型態鍵一開始就使用左右分離的型態鍵。</p></blockquote><h2 id="調整下巴掉落幅度" tabindex="-1">調整下巴掉落幅度 <a class="header-anchor" href="#調整下巴掉落幅度" aria-label="Permalink to &quot;調整下巴掉落幅度&quot;">​</a></h2><p>驅動嘴巴開口，下巴掉落的型態鍵為 JawOpen。</p><p>其中，JawOpen又被分為 2 種型態鍵以方便微調。</p><ul><li><code>JawDrop*</code> 下巴移動</li><li><code>MouthOpen*</code> 張嘴</li></ul><p>預設為上顎不動，下巴掉落。您可以更改動畫來調整下巴掉落的幅度。</p><p>請在 <code>Animations/</code> 下找到 <code>JawOpen</code> 動畫，依照喜好調整 <code>JawDrop*</code> 的值。 <img src="'+d+'" alt=""></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>您可以透過更改 <code>JawDrop*</code> 調整張嘴的效果。<br> 當 <code>JawDrop*</code> 為 0 時，下巴保持不動，嘴巴打開且上顎向上移動。</p><p>當 <code>JawDrop*</code> 為 100 時，下巴向下移動，嘴巴打開且上顎保持不動。</p></div><h2 id="調整參數解析度與縮放" tabindex="-1">調整參數解析度與縮放 <a class="header-anchor" href="#調整參數解析度與縮放" aria-label="Permalink to &quot;調整參數解析度與縮放&quot;">​</a></h2><p>使用 Inspector 查看面捕遊戲物件時，您可以看到以下畫面： <img src="'+p+'" alt=""></p><p>其中每一項為面捕使用的參數，您可以調整<strong>解析度</strong>與<strong>縮放</strong>，其中<strong>解析度</strong>會影響最終需要的同步參數用量。</p><h3 id="解析度" tabindex="-1">解析度 <a class="header-anchor" href="#解析度" aria-label="Permalink to &quot;解析度&quot;">​</a></h3><p>使用量化技術降低同步參數用量，VRC Expression parameters 中 <code>float</code> 為 <code>8 bit</code> 解析度，適當降低可以在不過度影響效果的同時降低需要的同步參數。\\</p><blockquote><p>解析度最低值為 <code>0</code> (不同步)，最高值為 <code>8</code> (相當於float)。</p><p>不建議將解析度設定至 <code>2</code> 以下。</p></blockquote>',77)]))}const I=n(b,[["render",g]]);export{S as __pageData,I as default};
